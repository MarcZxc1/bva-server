### Test API Endpoints for Shopee Clone

### Variables
@baseUrl = http://localhost:3000
@token = {{login.response.body.data.token}}

### Health Check
GET {{baseUrl}}/
Content-Type: application/json

###

### Register New User
# @name register
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "buyer1",
  "email": "buyer1@example.com",
  "password": "password123",
  "phoneNumber": "09123456789"
}

###

### Register Seller
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "seller1",
  "email": "seller1@example.com",
  "password": "password123",
  "phoneNumber": "09987654321"
}

###

### Login with Username
# @name login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "identifier": "buyer1",
  "password": "password123"
}

###

### Login with Email
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "identifier": "buyer1@example.com",
  "password": "password123"
}

###

### Get Current User Profile
GET {{baseUrl}}/api/auth/me
Authorization: Bearer {{token}}

###

### Logout
POST {{baseUrl}}/api/auth/logout
Authorization: Bearer {{token}}

###

### Test - Wrong Password
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "identifier": "buyer1",
  "password": "wrongpassword"
}

###

### Test - Duplicate Username
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "buyer1",
  "email": "different@example.com",
  "password": "password123"
}

###

### Test - Duplicate Email
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "differentuser",
  "email": "buyer1@example.com",
  "password": "password123"
}

###

### Test - Invalid Email Format
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "not-an-email",
  "password": "password123"
}

###

### Test - Short Password
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "testuser2",
  "email": "test2@example.com",
  "password": "123"
}

###

### Test - Unauthorized Access
GET {{baseUrl}}/api/auth/me

###

### Test - Invalid Token
GET {{baseUrl}}/api/auth/me
Authorization: Bearer invalid.token.here
